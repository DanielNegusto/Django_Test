## Документация API для системы верификации пользователей и инвайт-кодов
Эта документация описывает API для системы верификации пользователей, которая позволяет пользователям регистрироваться с помощью номера телефона, получать код верификации и активировать инвайт-код. API построен с использованием Django и Django REST Framework.

### Обзор
API состоит из трех основных представлений:

1. PhoneNumberView: Обрабатывает регистрацию номера телефона и генерацию кода верификации.
2. VerificationCodeView: Обрабатывает проверку кода, полученного пользователем.
3. User ProfileView: Отображает информацию о профиле пользователя и обрабатывает активацию инвайт-кода.
### Эндпоинты
#### 1. PhoneNumberView
GET /api/phone_number/
Этот эндпоинт отображает форму для ввода номера телефона пользователем.

### Ответ:

Отображает phone_number.html.

### POST /api/phone_number/
Этот эндпоинт регистрирует пользователя с номером телефона и отправляет код верификации.

## Тело запроса:
```bash
{
    "phone_number": "string"
}
```
### Ответ:

- 200 OK: Если пользователь создан или уже существует, возвращает сообщение с кодом верификации и инвайт-кодом.
```bash
{
    "message": "Код отправлен",
    "invite_code": "string",
    "Ваш код": "string"
}
```
- 400 Bad Request: Если данные запроса недействительны.
Пример ответа:
```bash
{
    "message": "Пользователь уже зарегистрирован. Ваш код: 1234."
}
``` 

#### 2. VerificationCodeView
GET /api/verification_code/

Этот эндпоинт отображает форму для ввода кода верификации пользователем.

### Ответ:

Отображает verification_code.html.

### POST /api/verification_code/
Этот эндпоинт проверяет код, введенный пользователем.

### Тело запроса:
```bash
{
    "phone_number": "string",
    "code": "string"
}
```
### Ответ:

- 200 OK: Если код правильный и пользователь верифицирован.
```bash
{
    "message": "Успешная авторизация",
    "phone_number": "string"
}
```
- 400 Bad Request: Если код неверный.
```bash
{
    "message": "Неверный код"
}
```
- 404 Not Found: Если пользователь не найден.
```bash
{
    "message": "Пользователь не найден"
}
```
#### 3. UserProfileView
GET /api/profile/<phone_number>/

Этот эндпоинт получает информацию о профиле пользователя.

### Параметры пути:

phone_number: Номер телефона пользователя.

### Ответ:

- 200 OK: Возвращает данные профиля пользователя.
```bash
{
    "user": {
        "phone_number": "string",
        "invite_code": "string",
        "activated_invite_code": "boolean",
        "activated_users": [
            {
                "phone_number": "string"
            }
        ]
    }
}
``` 
- 400 Bad Request: Если номер телефона не предоставлен.
- 404 Not Found: Если пользователь не найден.

### POST /api/profile/<phone_number>/
Этот эндпоинт позволяет пользователю активировать инвайт-код.

### Параметры пути:

phone_number: Номер телефона пользователя.

### Тело запроса:
```bash
{
    "invite_code": "string"
}
```
### Ответ:

- 200 OK: Если инвайт-код успешно активирован.
```bash
{
    "message": "Инвайт-код успешно активирован"
}
```
- 400 Bad Request: Если инвайт-код отсутствует или уже активирован.
```bash
{
    "message": "Необходим инвайт-код"
}
```
- 404 Not Found: Если пользователь или инвайт-код не найдены.
```bash
{
    "message": "Пользователь или инвайт-код не найден"
}
```
### Использование
1. Регистрация номера телефона: Отправьте POST-запрос на /api/phone_number/ с номером телефона пользователя, чтобы получить код верификации.
2. Проверка кода: После получения кода верификации отправьте POST-запрос на /api/verification_code/ с номером телефона и кодом верификации.
3. Доступ к профилю пользователя: Отправьте GET-запрос на /api/profile/<phone_number>/, чтобы получить информацию о профиле пользователя.
4. Активация инвайт-кода: Отправьте POST-запрос на /api/profile/<phone_number>/ с инвайт-кодом для его активации.
### Обработка ошибок
API использует стандартные коды состояния HTTP для указания успеха или неудачи запроса. Ошибки возвращаются в формате JSON с сообщением, объясняющим проблему.